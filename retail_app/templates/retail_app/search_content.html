{% extends "retail_app/base.html" %}

{% block content %}
  <h2 class="title results">Results</h2>

  <h3 class="text results">for "{{query}}"</h3>
  <h3 class="text results">{{results}} items</h3>

  <div class="productsContainer">
    {% for product in products %}
    <div class="productContainer">
      <a class="product" href="{{ product.site_url }}">
        {% for image in product.images|slice:"0:1" %}
          <img class="productImage show" src="{{ image.image_url }}" alt="{{ image.product.product_description.name }}">
        {% endfor %}
        {% for image in product.images|slice:"1:2" %}
          <img class="productImage hide" src="{{ image.image_url }}" alt="{{ image.product.product_description.name }}">
        {% endfor %}

        <h3 class="title">{{ product.designer }}</h3>
        <h3 class="text">{{ product.product_description.name }}</h3>
        <p class="text">{{ name }}</p>

        <div class="stockContainer">
          {% for stock in product.stock %}
            <div class="quantitiesContainer">
              <p class="text stock">{{ stock.color }}</p>
              <p class="text stock">{{ stock.quantity }}</p>
            </div>
          {% endfor %}
        </div>

        <div class="productDescription hide">
          <p class="text">{{ product.product_details.material }}</p>
          <p class="text">{{ product.product_details.size }}</p>
          <p class="text">{{ product.product_details.dimensions }}</p>
          <p class="text">{{ product.product_details.sku }}</p>
        </div>

        <p class="text">{{ product.product_price }}</p>
      </a>
    </div>
    {% empty %}
      <h2 class="subtitle">NO RESULTS FOUND (YET!)</h2>
    {% endfor %}
  </div>
{% endblock content %}
